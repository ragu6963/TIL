###  세션(Session) 기반

1. 클라이언트가 로그인(id,password) 요청

2. 서버에서 유저를 확인 후 세션을 만들고 메모리나 DB에 저장

3. 서버 > 클라이언트 세션 ID 응답

4. 클라이언트는 쿠키**Cookie**에 세션 ID 저장
5. 필요할 때 마다 헤더에 쿠키를 실어서 보낸다.

#### 단점

- 메모리 혹은 DB 사용량이 많아진다. 그래서 사용자가 많아지면 부하가 심해진다.

![img](assets/인증방식/994BEA345B53368401)

### JWT(JSON Web Token)

인증에 필요한 정보들을 암호화시킨 토큰. 사용자는 인증에 필요한 토큰을 HTTP 헤더에 실어 서버에 보낸다.

#### 3가지 요소

1. Header : 암호화할 방식(alg), 타입(type)
2. Payload : 서버에서 보낼 데이터. 일반적으로 ID 값, 유효기간이 들어간다.
3. Verify Signature : Base64 방식으로 인코딩한 Header, Payload 그리고 SECRET KEY를 더한 후 서명된다.

> Header와 Payload 는 인코딩만 될 뿐 암호화 되지 않는다. 그러므로 Payload 에는 비밀번호 와 같은 중요 정보가 들어가면 안된다.

- 최종 결과 : Encoded Header + "." + Encoded Payload + "." + Verify Signature

![img](assets/인증방식/995EC2345B53368912)

#### 장점

- 간편하다. 별도의 저장소 관리가 필요없다.
- 확장성이 뛰어나다. 도큰 기반의 다른 인증 시스템에 접근이 가능하다.(Google 로그인, Facebook 로그인)

#### 단점

- 이미 발급된 토큰에 대해서는 유효기간이 완료될 때 까지는 계속 사용이 가능하다. 따라서 해커에 의해 유효기간이 지나기 전까지 계속 사용될 수 있다.
  - 토큰의 유효기간을 짧게 하고, Refresh Token 이라는 새로운 토큰을 발급해 피해를 줄 일수 있다.
- Payload 정보가 제한 적이다. Payload 는 암호화되지 않기 때문에 디코딩하면 누구나 정보를 확인할 수 있다.
- JWT의 길이가 세션/쿠키에 비해 길기 때문에 요청이 많아질수록 서버의 자원낭비가 발생한다.

