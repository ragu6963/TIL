###  프로세스

- 실행되고 있는 프로그램, 시스템 자원을 할당받는 작업 단위
- 할당받는 시스템 자원
  - CPU
  - 주소공간
  - 메모리 영역(Code, Data, Stack, Heap)
- 각 프로세스는 독립적이며 다른 프로세스의 자원에 접근할 수 없다.
- 다른 프로세스의 자원에 접근하려면 프로세스 간의 통신(파이프, 파일, 소켓 등)을 이용해야한다.



### 스레드

- 프로세스 내에서 실행되는 여러 흐름 단위, 프로세스의 특정한 수행 경로
- 프로세스는 최소 1개의 스레드(메인 스레드)를 가진다.
- 프로세스 내에서 Stack만 따로 할당받고, Code Data Heap 은 공유한다.



### 멀티 프로세스

- 하나의 응용프로그램을 여러 개의 프로세스로 구성한 것
- 장점
  - 하나의 프로세스가 죽어도 다른 프로세스에 영향이 확산되지 않는다.
- 단점
  - 프로세스는 독립된 메모리 영역을 가지기 때문에 하나의 프로그램의 다른 프로세스들 사이에서 변수를 공유할 수 없다.

### 멀티 스레드

- 하나의 응용프로그램을 여러 개의 스레드로 구성한 것
- 웹 서버는 대표적인 멀티 스레드 응용 프로그램이다.
- 장점
  - 시스템 자원 소모 감소 : 프로세스 생성에 대한 시스템 콜이 줄어들어 자원을 효율적으로 관리할 수 있다.
  - 통신 방법이 간단해서 멀티 프로세스보다 통신 부담이 적다.
- 단점
  - 설계와 디버깅이 까다롭다.
  - 하나의 스레드가 문제가 발생하면 프로세스 전체에 영향을 준다.



### 파이썬 GIL(Global Interpreter Lock)

파이썬 에서는 하나의 프로세스 안에 모든 자원의 락(Lock)을 글로벌(Global)하게 관리함으로써 한번에 하나의 쓰레드만 자원을 컨트롤하여 동작하도록 한다.

즉, 한 번에 하나의 쓰레드만 자원에 접근할 수 있다는 뜻이다.

#### Why?

- reference count
  - 파이썬의 GC로 객체의 참조횟수를 계산해서 참조 카운트가 0이면 메모리에서 해지한다.
  - 하나의 객체에 여러 쓰레드가 접근하면 ref count를 관리하기 위해 각 객체에 대한 Lock이 필요하다. 
    이러한 파이썬은 인터프리터(객체 전체)에 Lock을 걸어서(GIL) 비효율을 해결한다.

